# ========================================
# AI Study Helper Backend v2.0
# ========================================

# ========================================
# API Keys (Priority Order: OpenRouter > Hugging Face > Fallback)
# ========================================

# 1. OpenRouter API (Primary - for enhanced vision processing)
# Get your key from: https://openrouter.ai/keys
OPENROUTER_API_KEY=sk-or-your-openrouter-api-key-here

# 2. Hugging Face API (Secondary - for text processing)
# Get your key from: https://huggingface.co/settings/tokens
HF_API_KEY=hf-your-hugging-face-api-key-here

# ========================================
# Cloudinary Configuration
# ========================================
CLOUDINARY_CLOUD_NAME=your-cloudinary-cloud-name
CLOUDINARY_API_KEY=your-cloudinary-api-key
CLOUDINARY_API_SECRET=your-cloudinary-api-secret

# ========================================
# Database Configuration
# ========================================
MONGO_URI=mongodb://localhost:27017/ai-study-helper
MONGO_DB_NAME=ai-study-helper

# ========================================
# Server Configuration
# ========================================
PORT=5000
NODE_ENV=development
FRONTEND_URL=http://localhost:3000

# ========================================
# Security & Authentication
# ========================================
JWT_SECRET=your-super-secret-jwt-key-here
JWT_EXPIRES_IN=7d
BCRYPT_ROUNDS=12

# ========================================
# Rate Limiting
# ========================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ========================================
# Processing Configuration
# ========================================
# OCR Processing
OCR_CHUNK_SIZE=300
OCR_OVERLAP=50
OCR_CONFIDENCE_THRESHOLD=0.3

# Vision Processing
VISION_MAX_IMAGES=3
VISION_MAX_TOKENS=2000
VISION_TEMPERATURE=0.7

# Semantic Search
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
VECTOR_DIMENSION=384
SIMILARITY_THRESHOLD=0.7

# ========================================
# Calendar & Scheduling
# ========================================
CALENDAR_TIMEZONE=UTC
CALENDAR_DEFAULT_DURATION=60
CALENDAR_MAX_SESSIONS_PER_DAY=10

# ========================================
# Mind Map Configuration
# ========================================
MINDMAP_MAX_NODES=50
MINDMAP_MAX_DEPTH=5
MINDMAP_AUTO_LAYOUT=true

# ========================================
# Quiz Generation
# ========================================
QUIZ_DEFAULT_QUESTIONS=5
QUIZ_MAX_QUESTIONS=20
QUIZ_DIFFICULTY_LEVELS=easy,medium,hard

# ========================================
# Logging & Monitoring
# ========================================
LOG_LEVEL=info
ENABLE_REQUEST_LOGGING=true
ENABLE_PERFORMANCE_MONITORING=true

# ========================================
# Processing Strategy Configuration
# ========================================
# The system will automatically try these methods in order:
# 1. OpenRouter Vision Model (if OPENROUTER_API_KEY is set)
#    - Enhanced image understanding and analysis
#    - Better comprehension of diagrams, equations, and visual content
#    - Structured educational content generation
# 
# 2. Hugging Face Models (if HF_API_KEY is set)
#    - Advanced text processing and analysis
#    - Summarization, explanation, and MCQ generation
#    - Embedding generation for semantic search
# 
# 3. Simple Text Processing (always available as fallback)
#    - Basic OCR text extraction and processing
#    - Simple content generation and quiz creation
#    - No external API dependencies
# 
# 4. Semantic Search & RAG (if embeddings are available)
#    - User preference learning
#    - Context-aware responses
#    - Personalized study recommendations
